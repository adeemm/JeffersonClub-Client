{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Http, Headers } from '@angular/http';\nimport { AlertController } from 'ionic-angular';\nimport { Service } from '../../providers/service';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  viewState = 'signup';\n  inputType = 'password';\n  loader;\n\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  password: string;\n\n  user: string;\n  pass: string;\n\n  constructor(public nav: NavController, public http: Http, public service: Service, public loadingCtrl: LoadingController, public alertCtrl: AlertController) {\n  }\n\n  public changeState(stateName) {\n    this.viewState = stateName;\n  }\n\n  presentAlert(header: string, sub: string, button: string) {\n    const alert = this.alertCtrl.create({\n      title: header,\n      subTitle: sub,\n      buttons: [button]\n    });\n    alert.present();\n  }\n\n  public login() {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n\n    let credentials = {\n      username: this.user,\n      password: this.pass\n    };\n\n    this.loader = this.loadingCtrl.create({\n     content: \"Please wait...\"\n    });\n\n    this.loader.present().then(()=>{\n      this.http.post(this.service.baseUrl + this.service.webPort + '/auth/login', JSON.stringify(credentials), { headers: headers })\n        .subscribe(res => {\n          this.service.init(res.json());\n          this.service.getNews().then(() => {\n            this.loader.dismiss();\n            this.nav.setRoot(\"HomePage\", {}, {animate: true, direction: 'forward'});\n          });\n        }, (err) => {\n          this.loader.dismiss();\n\n           if(err.status != 0)\n            this.presentAlert(\"Error\", JSON.parse(err._body).message, \"OK\");\n          else\n            this.presentAlert(\"Connection Error\", \"Please check your connection!\", \"OK\");\n        });\n    });\n  }\n\n  public register() {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n\n    let user = {\n      firstName: this.firstName,\n      lastName: this.lastName,\n      email: this.email,\n      username: this.username,\n      password: this.password,\n      confirmPassword: this.password\n    };\n\n    this.loader = this.loadingCtrl.create({\n     content: \"Please wait...\"\n    });\n\n    this.loader.present().then(()=>{\n      this.http.post(this.service.baseUrl + this.service.webPort + '/auth/register', JSON.stringify(user), { headers: headers })\n        .subscribe(res => {\n          this.service.init(res.json());\n          this.service.getNews().then(() => {\n            this.loader.dismiss();\n            this.nav.setRoot(\"HomePage\", {}, {animate: true, direction: 'forward'});\n          });\n\n        }, (err) => {\n          this.loader.dismiss();\n\n          if(err.status != 0)\n          {\n            let error = JSON.parse(err._body);\n            let body = \"\"\n\n            for (var key in error.validationErrors) {\n              if (error.validationErrors.hasOwnProperty(key)) {\n                  body += error.validationErrors[key] + \"<br>\";\n              }\n            }\n\n            this.presentAlert(error.error, body, \"OK\");\n          }\n          else\n            this.presentAlert(\"Connection Error\", \"Please check your internet conection\", \"OK\");\n        });\n    });\n  }\n\n  public hideShowPassword = function() {\n    if (this.inputType == 'password')\n      this.inputType = 'text';\n    else\n      this.inputType = 'password';\n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}